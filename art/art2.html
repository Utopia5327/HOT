<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Les Lieux Imaginaires Artworks - Art Project | Manas Bhatia</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --bg-primary: #ffffff;
            --bg-secondary: #ffffff;
            --bg-tertiary: rgba(240, 240, 240, 0.8);
            --bg-tertiary-hover: rgba(240, 240, 240, 1);
            --text-primary: #111;
            --text-secondary: #444;
            --text-tertiary: #3e3e3e;
            --border-color: rgba(200, 200, 200, 0.18);
            --shadow-color: rgba(0, 0, 0, 0.04);
            --shadow-hover: rgba(0, 0, 0, 0.08);
            --dropdown-bg: rgba(240, 240, 240, 0.95);
            --dropdown-hover: rgba(220, 220, 220, 1);
            --canvas-bg: rgb(255, 255, 255);
        }

        [data-theme="dark"] {
            --bg-primary: #1a1a1a;
            --bg-secondary: #2d2d2d;
            --bg-tertiary: rgba(60, 60, 60, 0.8);
            --bg-tertiary-hover: rgba(60, 60, 60, 1);
            --text-primary: #ffffff;
            --text-secondary: #cccccc;
            --text-tertiary: #e0e0e0;
            --border-color: rgba(80, 80, 80, 0.3);
            --shadow-color: rgba(0, 0, 0, 0.2);
            --shadow-hover: rgba(0, 0, 0, 0.3);
            --dropdown-bg: rgba(60, 60, 60, 0.95);
            --dropdown-hover: rgba(80, 80, 80, 1);
            --canvas-bg: rgb(26, 26, 26);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', 'General Sans', Arial, sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            min-height: 100vh;
            cursor: url('../cursor.svg') 16 16, auto;
            transition: background 0.3s ease, color 0.3s ease;
        }

        .framer-hero-section {
            position: relative;
            width: 100%;
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }

        .framer-hero-background {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
        }

        .carousel-container {
            position: relative;
            width: 100%;
            height: 100%;
            overflow: hidden;
        }

        .carousel-slide {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0;
            transition: opacity 1s ease-in-out;
        }

        .carousel-slide.active {
            opacity: 1;
        }

        .carousel-slide img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .carousel-indicators {
            position: absolute;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 10px;
            z-index: 3;
        }

        .carousel-indicator {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.5);
            cursor: pointer;
            transition: background 0.3s ease;
        }

        .carousel-indicator.active {
            background: rgba(255, 255, 255, 1);
        }

        .carousel-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(0, 0, 0, 0.3);
            color: white;
            border: none;
            font-size: 1.5rem;
            padding: 1rem;
            cursor: pointer;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background 0.3s ease;
            z-index: 3;
        }

        .carousel-nav:hover {
            background: rgba(0, 0, 0, 0.6);
        }

        .carousel-prev {
            left: 20px;
        }

        .carousel-next {
            right: 20px;
        }

        .framer-hero-content {
            position: relative;
            z-index: 3;
            text-align: center;
            color: white;
            max-width: 800px;
            padding: 2rem;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 16px;
            backdrop-filter: blur(8px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .framer-hero-title {
            font-size: 4rem;
            font-weight: 900;
            letter-spacing: -0.02em;
            line-height: 1.1;
            margin-bottom: 1rem;
            text-shadow: 0 4px 8px rgba(0,0,0,0.7), 0 2px 4px rgba(0,0,0,0.5);
            position: relative;
            z-index: 4;
        }

        .framer-hero-subtitle {
            font-size: 1.5rem;
            font-weight: 400;
            margin-bottom: 2rem;
            opacity: 0.95;
            text-shadow: 0 3px 6px rgba(0,0,0,0.7), 0 1px 3px rgba(0,0,0,0.5);
            position: relative;
            z-index: 4;
        }

        .framer-hero-meta {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin-bottom: 2rem;
            flex-wrap: wrap;
        }

        .framer-hero-meta-item {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .framer-hero-meta-label {
            font-size: 0.9rem;
            font-weight: 500;
            opacity: 0.8;
            margin-bottom: 0.5rem;
            text-shadow: 0 2px 4px rgba(0,0,0,0.6);
        }

        .framer-hero-meta-value {
            font-size: 1rem;
            font-weight: 600;
            text-shadow: 0 2px 4px rgba(0,0,0,0.6);
        }

        .framer-hero-btn {
            display: inline-block;
            background: rgba(255, 255, 255, 0.2);
            color: white;
            text-decoration: none;
            padding: 1rem 2rem;
            border-radius: 8px;
            font-weight: 600;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        .framer-hero-btn:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
        }

        .framer-content-section {
            max-width: 1200px;
            margin: 0 auto;
            padding: 4rem 2rem;
        }

        .framer-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 4rem;
            align-items: center;
            margin-bottom: 4rem;
        }

        .framer-text-container {
            padding: 2rem;
        }

        .framer-text-container h2 {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 1.5rem;
            color: var(--text-primary);
        }

        .framer-text-container p {
            font-size: 1.1rem;
            line-height: 1.7;
            color: var(--text-secondary);
            margin-bottom: 1.5rem;
        }

        .framer-image-container {
            position: relative;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
        }

        .framer-image-container img {
            width: 100%;
            height: auto;
            display: block;
        }

        .project-link-container {
            margin-top: 2rem;
        }

        .project-link {
            display: inline-block;
            background: var(--bg-tertiary);
            color: var(--text-primary);
            text-decoration: none;
            padding: 0.8rem 1.5rem;
            border-radius: 8px;
            font-weight: 600;
            transition: all 0.3s ease;
            border: 1px solid var(--border-color);
        }

        .project-link:hover {
            background: var(--bg-tertiary-hover);
            transform: translateY(-2px);
            box-shadow: 0 4px 16px var(--shadow-hover);
        }

        .video-container {
            position: relative;
            width: 100%;
            height: 0;
            padding-bottom: 56.25%;
            margin: 2rem 0;
            border-radius: 12px;
            overflow: hidden;
        }

        .video-container video {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        @media (max-width: 768px) {
            .framer-hero-title {
                font-size: 2.5rem;
            }
            
            .framer-hero-subtitle {
                font-size: 1.2rem;
            }
            
            .framer-container {
                grid-template-columns: 1fr;
                gap: 2rem;
            }
            
            .framer-hero-meta {
                flex-direction: column;
                gap: 1rem;
            }
        }

        canvas {
            position: fixed;
            top: 0;
            left: 0;
            z-index: 0;
            pointer-events: none;
        }

        /* Image Grid Styles */
        .image-grid-section {
            max-width: 1200px;
            margin: 0 auto;
            padding: 4rem 2rem;
        }

        .image-grid-title {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 2rem;
            color: var(--text-primary);
            text-align: center;
        }

        .image-grid {
            display: grid;
            grid-template-columns: repeat(6, 1fr);
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .grid-item {
            aspect-ratio: 1;
            border-radius: 8px;
            overflow: hidden;
            cursor: pointer;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            box-shadow: 0 4px 16px rgba(0,0,0,0.1);
        }

        .grid-item:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 32px rgba(0,0,0,0.2);
        }

        .grid-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s ease;
        }

        .grid-item:hover img {
            transform: scale(1.1);
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(8px);
        }

        .modal-content {
            position: relative;
            margin: auto;
            display: flex;
            justify-content: center;
            align-items: center;
            width: 100%;
            height: 100%;
            padding: 2rem;
        }

        .modal-image {
            max-width: 90%;
            max-height: 90%;
            object-fit: contain;
            border-radius: 8px;
            box-shadow: 0 16px 64px rgba(0,0,0,0.3);
        }

        .close-modal {
            position: absolute;
            top: 20px;
            right: 30px;
            color: white;
            font-size: 2rem;
            font-weight: bold;
            cursor: pointer;
            z-index: 1001;
            background: rgba(0, 0, 0, 0.5);
            border-radius: 50%;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background 0.3s ease;
        }

        .close-modal:hover {
            background: rgba(0, 0, 0, 0.8);
        }

        .modal-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(0, 0, 0, 0.5);
            color: white;
            border: none;
            font-size: 1.5rem;
            padding: 1rem;
            cursor: pointer;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background 0.3s ease;
        }

        .modal-nav:hover {
            background: rgba(0, 0, 0, 0.8);
        }

        .modal-prev {
            left: 20px;
        }

        .modal-next {
            right: 20px;
        }

        .image-counter {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            color: white;
            font-size: 1rem;
            background: rgba(0, 0, 0, 0.5);
            padding: 0.5rem 1rem;
            border-radius: 20px;
        }

        @media (max-width: 768px) {
            .image-grid {
                grid-template-columns: repeat(3, 1fr);
                gap: 0.5rem;
            }
            
            .modal-nav {
                width: 50px;
                height: 50px;
                font-size: 1.2rem;
            }
            
            .close-modal {
                width: 40px;
                height: 40px;
                font-size: 1.5rem;
            }
        }

        @media (max-width: 480px) {
            .image-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        /* Inline Comparison Container Styles */
        .comparison-container-inline {
            position: relative;
            overflow: hidden;
            cursor: pointer;
        }

        .comparison-wrapper-inline {
            position: relative;
            width: 100%;
            height: 100%;
            min-height: 400px;
        }

        .comparison-before-inline,
        .comparison-after-inline {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: opacity 0.3s ease;
        }

        .comparison-after-inline {
            opacity: 1;
        }

        .comparison-slider-inline {
            position: absolute;
            top: 0;
            left: 50%;
            width: 3px;
            height: 100%;
            background: white;
            cursor: ew-resize;
            transform: translateX(-50%);
            z-index: 10;
            opacity: 1;
            box-shadow: 0 0 10px rgba(0,0,0,0.5);
        }

        .comparison-slider-inline::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 30px;
            height: 30px;
            background: white;
            border-radius: 50%;
            box-shadow: 0 2px 8px rgba(0,0,0,0.3);
        }

        .comparison-slider-inline::after {
            content: '◀ ▶';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: #333;
            font-size: 10px;
            font-weight: bold;
        }

        .comparison-labels-inline {
            position: absolute;
            width: 100%;
            left: 0;
            bottom: 15px;
            pointer-events: none;
            z-index: 20;
        }

        .comparison-label-inline {
            position: absolute;
            bottom: 0;
            font-weight: 600;
            font-size: 0.95rem;
            color: #fff;
            background: rgba(0,0,0,0.7);
            padding: 6px 16px;
            border-radius: 15px;
            margin: 0 10px;
            pointer-events: auto;
        }

        .comparison-label-inline:first-child {
            left: 0;
        }
        .comparison-label-inline:last-child {
            right: 0;
        }

        @media (max-width: 768px) {
            .comparison-container {
                max-width: 95%;
                max-height: 80%;
            }
            
            .comparison-slider::before {
                width: 30px;
                height: 30px;
            }
            
            .comparison-slider::after {
                font-size: 10px;
            }
            
            .close-comparison {
                width: 40px;
                height: 40px;
                font-size: 1.5rem;
            }
        }
    </style>
</head>
<body>
    <div id="site-header"></div>
    
    <div class="framer-hero-section">
        <div class="framer-hero-background">
            <div class="carousel-container">
                <div class="carousel-slide active">
                    <img src="../img/Chateauart/covercarousalchateau/Cez Original.jpg" alt="Chateau Cover 1">
                </div>
                <div class="carousel-slide">
                    <img src="../img/Chateauart/covercarousalchateau/unknown (7).png" alt="Chateau Cover 2">
                </div>
                <div class="carousel-slide">
                    <img src="../img/Chateauart/covercarousalchateau/unknown (8).png" alt="Chateau Cover 3">
                </div>
                <div class="carousel-slide">
                    <img src="../img/Chateauart/covercarousalchateau/unknown (9).png" alt="Chateau Cover 4">
                </div>
                <div class="carousel-slide">
                    <img src="../img/Chateauart/covercarousalchateau/unknown (11).png" alt="Chateau Cover 5">
                </div>
                <div class="carousel-slide">
                    <img src="../img/Chateauart/gen 1.png" alt="Chateau Gen 1">
                </div>
                <div class="carousel-slide">
                    <img src="../img/Chateauart/gen 2.png" alt="Chateau Gen 2">
                </div>
                <div class="carousel-slide">
                    <img src="../img/Chateauart/gen 3.png" alt="Chateau Gen 3">
                </div>
            </div>
            <button class="carousel-nav carousel-prev" onclick="changeCarouselSlide(-1)">&#10094;</button>
            <button class="carousel-nav carousel-next" onclick="changeCarouselSlide(1)">&#10095;</button>
            <div class="carousel-indicators">
                <div class="carousel-indicator active" onclick="goToSlide(0)"></div>
                <div class="carousel-indicator" onclick="goToSlide(1)"></div>
                <div class="carousel-indicator" onclick="goToSlide(2)"></div>
                <div class="carousel-indicator" onclick="goToSlide(3)"></div>
                <div class="carousel-indicator" onclick="goToSlide(4)"></div>
                <div class="carousel-indicator" onclick="goToSlide(5)"></div>
                <div class="carousel-indicator" onclick="goToSlide(6)"></div>
                <div class="carousel-indicator" onclick="goToSlide(7)"></div>
            </div>
        </div>
        <div class="framer-hero-content">
            <h1 class="framer-hero-title">Les Lieux Imaginaires</h1>
            <p class="framer-hero-subtitle">A generative AI art project reimagining Château de Lourmarin in the styles of Van Gogh, Cézanne, and Picasso, as well as inspired by the architecture of Angkor Wat, created for LES LIEUX IMAGINAIRES (June 15, 2024 – May 31, 2025).</p>
            <div class="framer-hero-meta">
                <div class="framer-hero-meta-item">
                    <span class="framer-hero-meta-label">Year</span>
                    <span class="framer-hero-meta-value">2024</span>
                </div>
                <div class="framer-hero-meta-item">
                    <span class="framer-hero-meta-label">Category</span>
                    <span class="framer-hero-meta-value">Generative AI Art</span>
                </div>
                <div class="framer-hero-meta-item">
                    <span class="framer-hero-meta-label">Tools</span>
                    <span class="framer-hero-meta-value">LookX, Krea, Midjourney</span>
                </div>
            </div>
            <a class="framer-hero-btn" href="#" target="_blank" rel="noopener">View Project</a>
        </div>
    </div>

    <div class="framer-content-section">
        <div class="framer-container">
            <div class="framer-text-container">
                <h2>Project Overview</h2>
                <p>Visual Data Art explores the intersection of data science and artistic expression, transforming complex datasets into visually stunning and meaningful artworks. This project demonstrates how data visualization can transcend its traditional analytical role to become a medium for creative storytelling and aesthetic exploration.</p>
                <p>Using a combination of statistical analysis, creative coding, and artistic design principles, we created visual representations that not only communicate data insights but also evoke emotional responses and challenge viewers to see information in new and unexpected ways.</p>
            </div>
            <div class="framer-image-container comparison-container-inline" data-comparison="0">
                <div class="comparison-wrapper-inline">
                    <img class="comparison-before-inline" src="../img/Chateauart/original1.JPG" alt="Original Image">
                    <img class="comparison-after-inline" src="../img/Chateauart/gen 1.png" alt="Generated Image">
                    <div class="comparison-slider-inline"></div>
                </div>
                <div class="comparison-labels-inline">
                    <span class="comparison-label-inline">Original</span>
                    <span class="comparison-label-inline">Generated</span>
                </div>
            </div>
        </div>

        <div class="framer-container">
            <div class="framer-image-container comparison-container-inline" data-comparison="1">
                <div class="comparison-wrapper-inline">
                    <img class="comparison-before-inline" src="../img/Chateauart/original 2.jpg" alt="Original Image">
                    <img class="comparison-after-inline" src="../img/Chateauart/gen 2.png" alt="Generated Image">
                    <div class="comparison-slider-inline"></div>
                </div>
                <div class="comparison-labels-inline">
                    <span class="comparison-label-inline">Original</span>
                    <span class="comparison-label-inline">Generated</span>
                </div>
            </div>
            <div class="framer-text-container">
                <h2>Creative Process</h2>
                <p>The project began with the collection and analysis of various datasets, from environmental data to social media trends. Using R for statistical analysis and Processing for creative coding, we developed algorithms that could transform raw data into artistic visualizations.</p>
                <p>Each visualization was carefully crafted to balance aesthetic appeal with data integrity, ensuring that the artistic interpretation remained faithful to the underlying information while creating compelling visual narratives.</p>
            </div>
        </div>

        <div class="framer-container">
            <div class="framer-text-container">
                <h2>Artistic Philosophy</h2>
                <p>At the heart of this project is the belief that data visualization can be both informative and beautiful. By applying principles of color theory, composition, and visual hierarchy to data representation, we created works that engage viewers on multiple levels.</p>
                <p>The project challenges the traditional separation between art and science, demonstrating how creative expression can enhance our understanding of complex information while creating meaningful aesthetic experiences.</p>
            </div>
            <div class="framer-image-container comparison-container-inline" data-comparison="2">
                <div class="comparison-wrapper-inline">
                    <img class="comparison-before-inline" src="../img/Chateauart/original 3.JPG" alt="Original Image">
                    <img class="comparison-after-inline" src="../img/Chateauart/gen 3.png" alt="Generated Image">
                    <div class="comparison-slider-inline"></div>
                </div>
                <div class="comparison-labels-inline">
                    <span class="comparison-label-inline">Original</span>
                    <span class="comparison-label-inline">Generated</span>
                </div>
            </div>
        </div>
    </div>

    <div class="image-grid-section">
        <h2 class="image-grid-title">Project Gallery</h2>
        <div class="image-grid">
            <div class="grid-item" onclick="openModal(0)">
                <img src="../img/Chateauart/covercarousalchateau/Cez Original.jpg" alt="Chateau Cover 1">
            </div>
            <div class="grid-item" onclick="openModal(1)">
                <img src="../img/Chateauart/covercarousalchateau/unknown (7).png" alt="Chateau Cover 2">
            </div>
            <div class="grid-item" onclick="openModal(2)">
                <img src="../img/Chateauart/covercarousalchateau/unknown (8).png" alt="Chateau Cover 3">
            </div>
            <div class="grid-item" onclick="openModal(3)">
                <img src="../img/Chateauart/covercarousalchateau/unknown (9).png" alt="Chateau Cover 4">
            </div>
            <div class="grid-item" onclick="openModal(4)">
                <img src="../img/Chateauart/covercarousalchateau/unknown (11).png" alt="Chateau Cover 5">
            </div>
            <div class="grid-item" onclick="openModal(5)">
                <img src="../img/Chateauart/gen 1.png" alt="Chateau Gen 1">
            </div>
            <div class="grid-item" onclick="openModal(6)">
                <img src="../img/Chateauart/gen 2.png" alt="Chateau Gen 2">
            </div>
            <div class="grid-item" onclick="openModal(7)">
                <img src="../img/Chateauart/gen 3.png" alt="Chateau Gen 3">
            </div>
        </div>
    </div>

    <!-- Modal -->
    <div id="imageModal" class="modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal()">&times;</span>
            <button class="modal-nav modal-prev" onclick="changeModalImage(-1)">&#10094;</button>
            <button class="modal-nav modal-next" onclick="changeModalImage(1)">&#10095;</button>
            <img id="modalImage" class="modal-image" src="" alt="">
            <div class="image-counter" id="imageCounter"></div>
        </div>
    </div>



    <div id="site-footer"></div>
    
    <script src="../js/theme.js"></script>
    <script>
    function includeHTML(id, url) {
      fetch(url)
        .then(res => res.text())
        .then(html => { 
          document.getElementById(id).innerHTML = html; 
          
          // Execute scripts after HTML is loaded
          const scripts = document.getElementById(id).getElementsByTagName('script');
          for (let script of scripts) {
            if (script.src) {
              // For external scripts, create a new script element
              const newScript = document.createElement('script');
              newScript.src = script.src;
              document.head.appendChild(newScript);
            } else {
              // For inline scripts, execute them
              eval(script.innerHTML);
            }
          }
          
          // Re-initialize theme after header is loaded to ensure toggle button works
          if (id === 'site-header') {
            if (typeof initializeTheme === 'function') {
              initializeTheme();
            }
            // Attach overlay click-to-close handler for hamburger menu
            var overlay = document.getElementById('hamburgerOverlay');
            if (overlay) {
              overlay.addEventListener('click', function(e) {
                if (e.target === overlay) {
                  window.toggleHamburgerMenu();
                }
              });
            }
          }
        });
    }
    includeHTML('site-header', '../header.html');
    includeHTML('site-footer', '../footer.html');

    // Carousel functionality
    let currentSlide = 0;
    const slides = document.querySelectorAll('.carousel-slide');
    const indicators = document.querySelectorAll('.carousel-indicator');

    function showSlide(n) {
        slides.forEach(slide => slide.classList.remove('active'));
        indicators.forEach(indicator => indicator.classList.remove('active'));
        
        currentSlide = (n + slides.length) % slides.length;
        slides[currentSlide].classList.add('active');
        indicators[currentSlide].classList.add('active');
    }

    function changeCarouselSlide(direction) {
        showSlide(currentSlide + direction);
    }

    function goToSlide(n) {
        showSlide(n);
    }

    // Auto-advance carousel
    setInterval(() => {
        changeCarouselSlide(1);
    }, 5000);

    // Modal functionality
    const modal = document.getElementById('imageModal');
    const modalImg = document.getElementById('modalImage');
    const imageCounter = document.getElementById('imageCounter');
    let currentModalImage = 0;
    
    const modalImages = [
        '../img/rayshader_map_California.png',
        '../img/rayshader_residuals.png',
        '../img/rayshader_map_Alabama.png',
        '../img/rayshader_map_Arizona.png',
        '../img/rayshader_map_Arkansas.png',
        '../img/rayshader_map_Colorado.png'
    ];

    function openModal(index) {
        currentModalImage = index;
        modalImg.src = modalImages[index];
        imageCounter.textContent = `${index + 1} / ${modalImages.length}`;
        modal.style.display = 'block';
        document.body.style.overflow = 'hidden';
    }

    function closeModal() {
        modal.style.display = 'none';
        document.body.style.overflow = 'auto';
    }

    function changeModalImage(direction) {
        currentModalImage = (currentModalImage + direction + modalImages.length) % modalImages.length;
        modalImg.src = modalImages[currentModalImage];
        imageCounter.textContent = `${currentModalImage + 1} / ${modalImages.length}`;
    }

    // Close modal when clicking outside
    modal.addEventListener('click', function(e) {
        if (e.target === modal) {
            closeModal();
        }
    });

    // Keyboard navigation
    document.addEventListener('keydown', function(e) {
        if (modal.style.display === 'block') {
            if (e.key === 'Escape') {
                closeModal();
            } else if (e.key === 'ArrowLeft') {
                changeModalImage(-1);
            } else if (e.key === 'ArrowRight') {
                changeModalImage(1);
            }
        }
    });

    // Inline Before/After Comparison functionality
    const comparisonContainers = document.querySelectorAll('.comparison-container-inline');
    let isDraggingInline = false;
    let currentDraggingSlider = null;

    comparisonContainers.forEach(container => {
        const slider = container.querySelector('.comparison-slider-inline');
        const afterImage = container.querySelector('.comparison-after-inline');

        // Initialize slider position to center
        updateInlineSliderPosition(slider, afterImage, 50);

        // Slider drag functionality
        slider.addEventListener('mousedown', function(e) {
            isDraggingInline = true;
            currentDraggingSlider = { slider, afterImage, container };
            e.preventDefault();
            e.stopPropagation();
        });

        // Click on container to move slider
        container.addEventListener('click', function(e) {
            if (e.target === slider) return;
            
            const rect = this.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const percentage = Math.max(0, Math.min(100, (x / rect.width) * 100));
            
            updateInlineSliderPosition(slider, afterImage, percentage);
        });
    });

    // Global mouse events for dragging
    document.addEventListener('mousemove', function(e) {
        if (!isDraggingInline || !currentDraggingSlider) return;
        
        const { slider, afterImage, container } = currentDraggingSlider;
        const rect = container.getBoundingClientRect();
        const x = e.clientX - rect.left;
        const percentage = Math.max(0, Math.min(100, (x / rect.width) * 100));
        
        updateInlineSliderPosition(slider, afterImage, percentage);
    });

    document.addEventListener('mouseup', function() {
        isDraggingInline = false;
        currentDraggingSlider = null;
    });

    // Touch support for mobile
    comparisonContainers.forEach(container => {
        const slider = container.querySelector('.comparison-slider-inline');
        const afterImage = container.querySelector('.comparison-after-inline');

        slider.addEventListener('touchstart', function(e) {
            isDraggingInline = true;
            currentDraggingSlider = { slider, afterImage, container };
            e.preventDefault();
        });
    });

    document.addEventListener('touchmove', function(e) {
        if (!isDraggingInline || !currentDraggingSlider) return;
        
        const { slider, afterImage, container } = currentDraggingSlider;
        const rect = container.getBoundingClientRect();
        const touch = e.touches[0];
        const x = touch.clientX - rect.left;
        const percentage = Math.max(0, Math.min(100, (x / rect.width) * 100));
        
        updateInlineSliderPosition(slider, afterImage, percentage);
    });

    document.addEventListener('touchend', function() {
        isDraggingInline = false;
        currentDraggingSlider = null;
    });

    function updateInlineSliderPosition(slider, afterImage, percentage) {
        slider.style.left = percentage + '%';
        afterImage.style.clipPath = `polygon(${percentage}% 0, 100% 0, 100% 100%, ${percentage}% 100%)`;
    }
    </script>
</body>
</html> 